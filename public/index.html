<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <title>Journal</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    <!-- Login Screen -->
    <div id="login-screen" class="screen">
      <div class="login-container">
        <h1>Journal</h1>
        <form id="login-form">
          <input type="text" id="username" placeholder="Username" autocomplete="username" required>
          <input type="password" id="password" placeholder="Password" autocomplete="current-password" required>
          <button type="submit">Login</button>
        </form>
        <p id="login-error" class="error"></p>
        <p class="auth-toggle">Don't have an account? <a href="#" id="show-register">Create one</a></p>
      </div>
    </div>

    <!-- Register Screen -->
    <div id="register-screen" class="screen hidden">
      <div class="login-container">
        <h1>Journal</h1>
        <form id="register-form">
          <input type="text" id="reg-username" placeholder="Username" autocomplete="username" required>
          <input type="password" id="reg-password" placeholder="Password" autocomplete="new-password" required>
          <button type="submit">Create Account</button>
        </form>
        <p id="register-error" class="error"></p>
        <p class="auth-toggle">Already have an account? <a href="#" id="show-login">Login</a></p>
      </div>
    </div>

    <!-- Journal Screen -->
    <div id="journal-screen" class="screen hidden">
      <header>
        <button id="prev-day" class="nav-btn" title="Previous day">&larr;</button>
        <div class="date-display">
          <input type="date" id="date-picker">
          <span id="date-label"></span>
          <button id="today-btn" class="today-btn hidden" title="Jump to today">Today</button>
        </div>
        <button id="next-day" class="nav-btn" title="Next day">&rarr;</button>
      </header>

      <main id="main-area">
        <div id="entries-list"></div>
        <button id="new-entry-btn" class="new-entry-btn"><span class="new-entry-full">+ New Entry</span><span class="new-entry-fab">+</span></button>
      </main>

      <footer>
        <span id="save-status"></span>
        <span id="user-display"></span>
        <button id="timeline-btn" class="timeline-btn" title="All entries">Timeline</button>
        <a href="/logout" id="logout-link">Logout</a>
      </footer>
    </div>

    <!-- Timeline Panel -->
    <div id="timeline-panel" class="timeline-panel hidden">
      <div class="timeline-panel-content">
        <div class="timeline-header">
          <h2>Timeline</h2>
          <button id="close-timeline-btn" class="close-btn">&times;</button>
        </div>
        <div id="timeline-list" class="timeline-list"></div>
      </div>
    </div>

    <!-- Entry Editor Modal -->
    <div id="entry-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <span id="entry-time"></span>
          <div class="modal-actions">
            <button id="copy-entry-btn" class="copy-btn" title="Copy to clipboard">Copy</button>
            <button id="save-entry-btn" class="save-btn">Save</button>
            <button id="delete-entry-btn" class="delete-btn hidden">Delete</button>
            <button id="close-modal-btn" class="close-btn">&times;</button>
          </div>
        </div>

        <section class="entry-section">
          <h2>What are you grateful for?</h2>
          <textarea id="gratitude" placeholder="Today I'm grateful for..."></textarea>
        </section>

        <section class="entry-section">
          <h2>How are you feeling?</h2>
          <textarea id="feeling" placeholder="I'm feeling..."></textarea>
        </section>

        <section class="entry-section">
          <h2>What's on your mind?</h2>
          <textarea id="on-mind" placeholder="On my mind today..."></textarea>
        </section>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
